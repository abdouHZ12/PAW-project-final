<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>

    <script src="../js/auth.js"></script>

    <script>
    requireRole("admin");
    </script>
    
    <link rel="stylesheet" href="../css/sessions.css">
    <title>Document</title>
</head>
<body>
    

<!-- admin/pages/sessions.html -->
<section class="container">
    <div class="header">
        <h1>Sessions</h1>
        <button id="btn-open-create-session" class="btn-primary">+ Add Session</button>
    </div>

    <table id="sessions-table">
        <thead>
            <tr>
                <th>Teacher</th>
                <th>Module</th>
                <th>Group</th>
                <th>Type</th>
                <th>Time</th>
                <th>Date</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody id="sessions-body">
            <!-- filled by JS -->
        </tbody>
    </table>
</section>

<!-- CREATE MODAL -->
<div class="modal hidden" id="create-session-modal">
    <div class="modal-box">
        <h2>Create Session</h2>
        <form id="create-session-form">
            <div class="form-group">
                <label>Teacher</label>
                <select id="create_teacher" name="id_teacher" required></select>
            </div>

            <div class="form-group">
                <label>Module</label>
                <select id="create_module" name="id_module" required></select>
            </div>

            <div class="form-group">
                <label>Group</label>
                <select id="create_group" name="id_group" required></select>
            </div>

            <div class="form-group">
                <label>Type</label>
                <select id="create_type" name="session_type" required>
                    <option value="TD">TD</option>
                    <option value="TP">TP</option>
                </select>
            </div>

            <div class="form-group">
                <label>Date</label>
                <input type="date" id="create_date" name="session_date" required>
            </div>

            <div class="form-group">
                <label>Start time</label>
                <input type="time" id="create_start" name="start_time" required>
            </div>

            <div class="form-group">
                <label>End time</label>
                <input type="time" id="create_end" name="end_time" required>
            </div>

            <div class="form-actions">
                <button type="button" class="btn-cancel" id="cancel-create-session">Cancel</button>
                <button type="submit" class="btn-submit">Save</button>
            </div>
        </form>
    </div>
</div>

<!-- EDIT MODAL -->
<div class="modal hidden" id="edit-session-modal">
    <div class="modal-box">
        <h2>Edit Session</h2>
        <form id="edit-session-form">
            <input type="hidden" id="edit_id" name="id_session">

            <div class="form-group">
                <label>Teacher</label>
                <select id="edit_teacher" name="id_teacher" required></select>
            </div>

            <div class="form-group">
                <label>Module</label>
                <select id="edit_module" name="id_module" required></select>
            </div>

            <div class="form-group">
                <label>Group</label>
                <select id="edit_group" name="id_group" required></select>
            </div>

            <div class="form-group">
                <label>Type</label>
                <select id="edit_type" name="session_type" required>
                    <option value="TD">TD</option>
                    <option value="TP">TP</option>
                </select>
            </div>

            <div class="form-group">
                <label>Date</label>
                <input type="date" id="edit_date" name="session_date" required>
            </div>

            <div class="form-group">
                <label>Start time</label>
                <input type="time" id="edit_start" name="start_time" required>
            </div>

            <div class="form-group">
                <label>End time</label>
                <input type="time" id="edit_end" name="end_time" required>
            </div>

            <div class="form-actions">
                <button type="button" class="btn-cancel" id="cancel-edit-session">Cancel</button>
                <button type="submit" class="btn-submit">Update</button>
            </div>
        </form>
    </div>
</div>

<script src="../js/sessions.js"></script>



</body>
</html>

